=head1 NAME

Params::Validate::Dependencies::Extending

=head1 DESCRIPTION

How to extend Params::Validate::Dependencies, and a discussion of
its internals.

=head1 PRE-REQUISITES

Before even thinking about extending this module you should understand
references, in particular code-references and closures, and also
understand objects in perl.

=head1 WHAT THE *_of FUNCTIONS REALLY DO

If you've read the documentation for Params::Validate::Dependencies
and Data::Domain::Dependencies, then you'd think that they return
a code-ref which is a closure over the original arguments, and that
they're implemented something like this ...

  sub any_of {
    my @options = @_;
    return sub {
      my $hashref = shift;
      ... do stuff with @options and $hashref ...
    }
  }

In version 1, that was exactly what was happening.  But then I wanted
to make them self-documenting.

Now, they still return a code-ref, but that code-ref is blessed into
a class - Params::Validate::Dependencies::any_of in the case of the
closures generated by C<any_of> - so that I can attach a little bit of
extra metadata.  They now look something like this ...

  sub any_of {
    my @options = @_;
    bless sub {
      my $hashref = shift;
      ... do stuff with @options and $hashref ...
    }, 'Params::Validate::Dependencies::any_of';
  }

There are four such classes, one for each of the *_of functions.

=head1 HOW THE AUTO-DOCUMENTATION WORKS

Each of those four classes is a sub-class of
Params::Validate::Dependencies::Documenter.

=head1 SEE ALSO

L<Params::Validate::Dependencies>

L<Data::Domain::Dependencies>

=head1 SOURCE CODE REPOSITORY

L<git://github.com/DrHyde/perl-modules-Params-Validate-Dependencies.git>

L<https://github.com/DrHyde/perl-modules-Params-Validate-Dependencies/>

=head1 COPYRIGHT and LICENCE

Copyright 2011 David Cantrell E<lt>F<david@cantrell.org.uk>E<gt>

This documentation is free-as-in-speech software.  It may be used, distributed, and modified under the terms of the Creative Commons Attribution-Share Alike 2.0 UK: England & Wales License, whose text you may read at L<http://creativecommons.org/licenses/by-sa/2.0/uk/>.

=head1 CONSPIRACY

This documentation is also free-as-in-mason.

=cut
